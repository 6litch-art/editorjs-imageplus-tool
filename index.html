<!doctype html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <title>Image tool tune</title>

    <script src="https://cdn.jsdelivr.net/npm/@editorjs/editorjs@2.27.2/dist/editorjs.umd.min.js"></script>
    <script src="./dist/image.js"></script>
</head>

<body>

    <h1 style="width:100%; text-align:center;">Image tool tune</h1>

    <div id="editorjs"></div>

    <script>

        document.addEventListener( 'DOMContentLoaded', function () {

            const ImageToolTune = window.ImageToolTune;
            const ImageTool = window.ImageTool;

            const editor = new EditorJS( {
                holder: 'editorjs',
                tools: {
                    imageTune: ImageToolTune,
                    image: {
                        tunes: [ 'imageTune' ],
                        class: ImageTool
                    },
                },

                logLevel: 'VERBOSE',
                onChange: ( api, event ) => {
                    saveDataEditJs();
                }

            } );

            function saveDataEditJs() {
                editor.save().then( ( outputData ) => {
                    console.log( JSON.stringify( outputData ) );
                } ).catch( ( error ) => {
                    console.log( 'Saving failed: ', error )
                } );
            }
        });

    </script>


</body>

</html>